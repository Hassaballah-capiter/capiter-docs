openapi: 3.0.0
servers:
  - url: '35.242.242.45'
info:
  version: "1.0_oas3"
  title: Capiter-Backend
  description: '# These are 35.242.242.45 backend Webservice Endpoints'
  contact:
    name: Mohamed Hassaballah
tags:
  - name: Root
  - name: Authentication
  - name: Users
  - name: Companies

paths:


  ##############################              Authentication Apis                 ################

  /capiter/api/v1/auth/{mobileNo}/password-status:
    get:
      tags:
        - Authentication
      description: Get user password setting status
      operationId: userPassStatus
      parameters:
        - $ref: "#/components/parameters/mobileNoPathParam"
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/PasswordSettingResponseDto'

#        '400':
#          $ref: '#/components/responses/errorResponse'
#        '500':
#          $ref: '#/components/responses/errorResponse'

  /capiter/api/v1/auth/set-password:
    post:
      tags:
        - Authentication
      description: Set user password
      operationId: setUserPassword
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/SettingUserPasswordRequest'
      responses:
        '200':
          description: OK

  /capiter/api/v1/auth/app-login:
    post:
      tags:
        - Authentication
      description: Login for the mobile app
      operationId: appLogin
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/LoginRequest'
      responses:
        '200':
          description: OK

  /capiter/api/v1/auth/dashboard-login:
    post:
      tags:
        - Authentication
      description: Login for the dashboard app
      operationId: dashboardLogin
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/LoginRequest'
      responses:
        '200':
          description: OK

  ##############################              Authentication Apis                 ################

  /capiter/api/v1/users/{id}/deactivate:
    post:
      tags:
        - Users
      description: deactivate user
      operationId: deactivateUser
      parameters:
        - $ref: "#/components/parameters/idPathParam"
      responses:
        '200':
          description: OK



####################################        Components         #########################################

components:

  schemas:




    PasswordSettingResponseDto:
      type: object
      properties:
        isPasswordSet:
          type: boolean
          example: false
      required:
        - isPasswordSet

    SettingUserPasswordRequest:
      type: object
      properties:
        mobileNo:
          type: string
          example: testCode
        password:
          type: string
          example: testText
      required:
        - mobileNo
        - password

    LoginRequest:
      type: object
      properties:
        mobileOrEmail: 
          type: string
        password: 
          type: string
      required: 
        - mobileOrEmail
        - passowrd


  parameters:
    idPathParam:
      in: path
      name: id
      required: true
      schema:
        type: integer
        format: int64
      description: id in path param

    mobileNoPathParam:
      in: path
      name: mobileNo
      required: true
      schema:
        type: string
      description: Customer Mobile No.